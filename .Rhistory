melted.pareto.minor = melt(pareto.minor,id = c("CAGR","DD"))
plot = ggplot() +
geom_point(data = df.results.minor,aes(x = CAGR,y = DD),colour = "gray") +
geom_point(data = pareto.minor,aes(x = CAGR,y = DD),colour = "orange")
plot.stacked = ggplot(data = melted.pareto.minor,
aes(x = CAGR,y = value,fill = variable)) +
geom_bar(stat = "identity",width=.005) +
scale_x_continuous(limits = c(min(df.results.minor$CAGR),  max(df.results.minor$CAGR))) +
theme(legend.position="bottom")
plot
plot.stacked
grid.arrange(plot,plot.stacked,ncol = 1)
library(ggplot2)  # for ggplot
library(rPref)    # for psel
library(reshape2) # for melt
library(gridExtra)
load("df.10_harrybrowne_spectrum.rda")
pareto.minor = psel(df.results.minor, high(CAGR) * low(DD))
melted.pareto.minor = melt(pareto.minor,id = c("CAGR","DD"))
plot = ggplot() +
geom_point(data = df.results.minor,aes(x = CAGR,y = DD),colour = "gray") +
geom_point(data = pareto.minor,aes(x = CAGR,y = DD),colour = "orange")
plot.stacked = ggplot(data = melted.pareto.minor,
aes(x = CAGR,y = value,fill = variable)) +
geom_bar(stat = "identity",width=.005) +
scale_x_continuous(limits = c(min(df.results.minor$CAGR),  max(df.results.minor$CAGR))) +
theme(legend.position="bottom")
grid.arrange(plot,plot.stacked,ncol = 1)
df.results.minor
save(data = df.results.minor,file = "df.10_harrybrowne_spectrum.rda")
getwd()
setwd("D:/Github/retirement-planner/Harry Browne")
getwd()
# 10/01/2016
# ETFdb Scraper
# This program downloads all
rm(list=ls())
directory = "D:/Github/DataDrivenTrading"
setwd(directory)
# Load libraries
library(readxl)
library(rvest) # for read_html
# Load list of ETFs
# Source: http://www.nasdaq.com/etfs/list
# Only first two columns have relevant information
#df = read.csv(file="ETFList.csv", sep=",")[,1:2]
# Load list of ETFs
df <- data.frame(read_excel("etfdb_data.xls"))
colnames(df) = c("symbol","name","etfdb.category","inception.date","expense.ratio","commission.free","expenses.rating")
# Avoid Warning Message: XML content does not seem to be XML by
# prepending "http://" to url.
url.list <- paste("http://etfdb.com/etf/", df$symbol, sep="")
# Determine how many loops to perform web crawling for
# ETFdb seems to cut the connection after 163 calls
n.loops = ceiling(nrow(df)/160)
# Save all web content first
all.sites = vector("list",nrow(df))
for (i in 1:n.loops){
for (j in (160*i - 159):(160 * i)){
all.sites[[j]] = try(read_html(url.list[j]))
}
Sys.sleep(2)
}
all.sites
all.sites[356]
all.sites[357]
all.sites[[400]]
all.sites[[400]] = NULL
for (i in 357:479){
all.sites[[i]] = NULL
}
for (i in 357:479){
all.sites[[i]] = NULL
}
all.sites[[355]]
all.sites[[356]]
all.sites[[357]]
for (i in 357:479){
all.sites[[i]] = NULL
}
for (i in 357:479){
all.sites[[i]] = NULL
}for (i in 357:479){
all.sites[[i]] = NULL
}
for (i in 357:479){
all.sites[[i]] = NULL
}
for (i in 357:479){
all.sites[[i]] = NULL
}
for (i in 357:479){
all.sites[[i]] = NULL
}
for (i in 357:479){
all.sites[[i]] = NULL
}
for (i in 357:479){
all.sites[[i]] = NULL
}
for (i in 357:479){
all.sites[[i]] = NULL
}
save(all.sites,file = paste(Sys.Date(),"20161001_etfdb_allsites.rda"))
160*n.loops - 159:nrow(df)
head(df)
df$inception.date = as.Date(df$inception.date,origin = "1899-12-30")
head(df)
# Create requisite columns
df["c.issuer"] = gsub( " .*$", "", df$name )
df["c.structure"] = NA
df["c.expense.ratio"] = NA
df["c.inception"] = NA
df["c.tax.form"] = NA
df["c.tracking.index"] = NA
df["c.issuer"] = NA
for (i in 1:nrow(df)){
cast <- html_nodes(all.sites[[i]], ".pull-right")
df$c.issuer[i] = html_text(cast)[6]
df$c.structure[i] = html_text(cast)[7]
df$c.expense.ratio[i] = html_text(cast)[8]
df$c.inception.date[i] = html_text(cast)[10]
df$c.tax.form[i] = html_text(cast)[11]
df$c.tracking.index[i] = html_text(cast)[12]
}
View(df)
View(df)
View(df)
head(df)
View(df)
plot = ggplot() +
geom_point(data = df,x = c.issuer,y = expense.ratio,colour = names)
library(ggplot2)
plot = ggplot() +
geom_point(data = df,x = c.issuer,y = expense.ratio,colour = names)
head(df)
plot = ggplot() +
geom_point(data = df,x = c.issuer,y = expense.ratio,colour = names)
plot = ggplot() +
geom_point(data = df,aes(x = c.issuer,y = expense.ratio,colour = names))
plot
plot = ggplot() +
geom_point(data = df,aes(x = as.character(c.issuer),y = expense.ratio,colour = names))
plot
plot = ggplot() +
geom_point(data[,10] = df,aes(x = as.character(c.issuer),y = expense.ratio,colour = names))
plot = ggplot() +
geom_point(data = df[,10],aes(x = as.character(c.issuer),y = expense.ratio,colour = names))
plot = ggplot() +
geom_point(data = df[,10],aes(x = as.character(c.issuer),y = expense.ratio,colour = names))
plot = ggplot() +
geom_point(data = df[,10],aes(x = as.Character(c.issuer),y = expense.ratio,colour = names))
plot = ggplot() +
geom_point(data = df[,10],aes(x = c.issuer,y = expense.ratio,colour = names))
class(df$c.issuer)
plot = ggplot() +
geom_point(data = df[,10],aes(x = c.issuer,y = expense.ratio,colour = names))
plot = ggplot() +
geom_point(data = df,aes(x = c.issuer,y = expense.ratio,colour = names))
plot
df$expense.ratio
class(df$expense.ratio)
plot = ggplot() +
geom_point(data = df,aes(x = c.issuer,y = expense.ratio,colour = names))
plot
plot = ggplot() +
geom_point(data = df,aes(x = c.issuer,y = expense.ratio)
)
plot
plot = ggplot() +
geom_point(data = df,x = c.issuer,y = expense.ratio) +
scale_x_continuous(labels = percent) +
theme(legend.title=element_blank(),
legend.position = "top",
axis.text.x = element_text(angle = 90, hjust = 1, vjust = 0.3))
plot = ggplot() +
geom_point(data = df,aes(x = c.issuer,y = expense.ratio)) +
scale_x_continuous(labels = percent) +
theme(legend.title=element_blank(),
legend.position = "top",
axis.text.x = element_text(angle = 90, hjust = 1, vjust = 0.3))
plot = ggplot() +
geom_point(data = df,aes(x = c.issuer,y = expense.ratio)) +
theme(legend.title=element_blank(),
legend.position = "top",
axis.text.x = element_text(angle = 90, hjust = 1, vjust = 0.3))
plot
head(df)
plot = ggplot() +
geom_point(data = df,aes(x = c.issuer,y = expense.ratio)) +
theme(legend.title=element_blank(),
legend.position = "top",
axis.text.x = element_text(angle = 90, hjust = 1, vjust = 0.3)) +
facet_grid(. ~ etfdb.category)
plot
plot = ggplot() +
geom_point(data = df,aes(x = c.issuer,y = expense.ratio)) +
theme(legend.title=element_blank(),
legend.position = "top",
axis.text.x = element_text(angle = 90, hjust = 1, vjust = 0.3)) +
facet_grid(etfdb.category ~ .)
plot
head(df)
# Load list of ETFs
df <- data.frame(read_excel("etfdb_data.xls"))
colnames(df) = c("symbol","name","etfdb.category","inception.date","expense.ratio","commission.free","expenses.rating")
head(df)
df$inception.date = as.Date(df$inception.date,origin = "1899-12-30")
# Create requisite columns
df["c.issuer"] = gsub( " .*$", "", df$name )
df["c.structure"] = NA
df["c.expense.ratio"] = NA
df["c.inception.date"] = NA
df["c.tax.form"] = NA
df["c.tracking.index"] = NA
plot = ggplot() +
geom_point(data = df,aes(x = c.issuer,y = expense.ratio)) +
theme(legend.title=element_blank(),
legend.position = "top",
axis.text.x = element_text(angle = 90, hjust = 1, vjust = 0.3)) +
facet_grid(etfdb.category ~ .)
plot
?plot_grid
library(cowplot)
install.packages("cowplot")
head(df)
subset(df,etfdb.category = "All Cap Equities")
nrow(subset(df,etfdb.category = "All Cap Equities"))
nrow(subset(df,etfdb.category == "All Cap Equities"))
unique(df$etfdb.cateogry)
unique(df$etfdb.category)
plot.allcap = ggplot() +
geom_point(data = subset(df,etfdb.category == "Large Cap Blend Equities"),aes(x = c.issuer,y = expense.ratio)) +
theme(legend.title=element_blank(),
legend.position = "top",
axis.text.x = element_text(angle = 90, hjust = 1, vjust = 0.3))
plot.lcb = ggplot() +
geom_point(data = subset(df,etfdb.category == "Large Cap Blend Equities"),aes(x = c.issuer,y = expense.ratio)) +
theme(legend.title=element_blank(),
legend.position = "top",
axis.text.x = element_text(angle = 90, hjust = 1, vjust = 0.3))
plot.lcg = ggplot() +
geom_point(data = subset(df,etfdb.category == "Large Cap Growth Equities"),aes(x = c.issuer,y = expense.ratio)) +
theme(legend.title=element_blank(),
legend.position = "top",
axis.text.x = element_text(angle = 90, hjust = 1, vjust = 0.3))
plot.lcv = ggplot() +
geom_point(data = subset(df,etfdb.category == "Large Cap Value Equities"),aes(x = c.issuer,y = expense.ratio)) +
theme(legend.title=element_blank(),
legend.position = "top",
axis.text.x = element_text(angle = 90, hjust = 1, vjust = 0.3))
plot.lcv
plot.lcb
plot.lcg
plot_grid(plot.lcv,plot.lcb,plot.lcg)
library(cowplot)
plot_grid(plot.lcv,plot.lcb,plot.lcg)
library(rPref)
psel(df * low(c.issuer))
?psel
psel(df,low(c.issuer))
psel(df,low(expense.ratio))
psel(df,low(expense.ratio),3)
psel(df,low(expense.ratio),top = 5)
plot.lcb = ggplot() +
geom_point(data = psel(subset(df,etfdb.category == "Large Cap Blend Equities"),low(expense.ratio),top = 5),aes(x = c.issuer,y = expense.ratio)) +
theme(legend.title=element_blank(),
legend.position = "top",
axis.text.x = element_text(angle = 90, hjust = 1, vjust = 0.3))
plot.lcvb
plot.lcb
plot.lcb = ggplot() +
geom_point(data = psel(subset(df,etfdb.category == "Large Cap Blend Equities"),low(expense.ratio),top = 10),aes(x = c.issuer,y = expense.ratio)) +
theme(legend.title=element_blank(),
legend.position = "top",
axis.text.x = element_text(angle = 90, hjust = 1, vjust = 0.3))
plot.lcb
plot.lcb = ggplot() +
geom_point(data = psel(subset(df,etfdb.category == "Large Cap Blend Equities"),low(expense.ratio),top = 5),aes(x = c.issuer,y = expense.ratio)) +
df.ac = psel(subset(df,etfdb.category == "All Cap Equities"),low(expense.ratio),top = n.top)
df.lcb = psel(subset(df,etfdb.category == "Large Cap Blend Equities"),low(expense.ratio),top = n.top)
df.lcg = psel(psel(subset(df,etfdb.category == "Large Cap Growth Equities"),low(expense.ratio),top = n.top)
df.lcv = psel(subset(df,etfdb.category == "Large Cap Value Equities"),low(expense.ratio),top = n.top)
df.mcb = psel(subset(df,etfdb.category == "Mid Cap Blend Equities"),low(expense.ratio),top = n.top)
df.mcg = psel(subset(df,etfdb.category == "Mid Cap Growth Equities"),low(expense.ratio),top = n.top)
df.mcv = psel(subset(df,etfdb.category == "Mid Cap Value Equities"),low(expense.ratio),top = n.top)
df.scb = psel(subset(df,etfdb.category == "Small Cap Blend Equities"),low(expense.ratio),top = n.top)
df.scg = psel(subset(df,etfdb.category == "Small Cap Growth Equities"),low(expense.ratio),top = n.top)
df.scv = psel(subset(df,etfdb.category == "Small Cap Value Equities"),low(expense.ratio),top = n.top)
theme(legend.title=element_blank(),
legend.position = "top",
axis.text.x = element_text(angle = 90, hjust = 1, vjust = 0.3))
df.ac = psel(subset(df,etfdb.category == "All Cap Equities"),low(expense.ratio),top = n.top)
df.lcb = psel(subset(df,etfdb.category == "Large Cap Blend Equities"),low(expense.ratio),top = n.top)
df.lcg = psel(subset(df,etfdb.category == "Large Cap Growth Equities"),low(expense.ratio),top = n.top)
df.lcv = psel(subset(df,etfdb.category == "Large Cap Value Equities"),low(expense.ratio),top = n.top)
df.mcb = psel(subset(df,etfdb.category == "Mid Cap Blend Equities"),low(expense.ratio),top = n.top)
df.mcg = psel(subset(df,etfdb.category == "Mid Cap Growth Equities"),low(expense.ratio),top = n.top)
df.mcv = psel(subset(df,etfdb.category == "Mid Cap Value Equities"),low(expense.ratio),top = n.top)
df.scb = psel(subset(df,etfdb.category == "Small Cap Blend Equities"),low(expense.ratio),top = n.top)
df.scg = psel(subset(df,etfdb.category == "Small Cap Growth Equities"),low(expense.ratio),top = n.top)
df.scv = psel(subset(df,etfdb.category == "Small Cap Value Equities"),low(expense.ratio),top = n.top)
n.top = 10
df.ac = psel(subset(df,etfdb.category == "All Cap Equities"),low(expense.ratio),top = n.top)
df.lcb = psel(subset(df,etfdb.category == "Large Cap Blend Equities"),low(expense.ratio),top = n.top)
df.lcg = psel(subset(df,etfdb.category == "Large Cap Growth Equities"),low(expense.ratio),top = n.top)
df.lcv = psel(subset(df,etfdb.category == "Large Cap Value Equities"),low(expense.ratio),top = n.top)
df.mcb = psel(subset(df,etfdb.category == "Mid Cap Blend Equities"),low(expense.ratio),top = n.top)
df.mcg = psel(subset(df,etfdb.category == "Mid Cap Growth Equities"),low(expense.ratio),top = n.top)
df.mcv = psel(subset(df,etfdb.category == "Mid Cap Value Equities"),low(expense.ratio),top = n.top)
df.scb = psel(subset(df,etfdb.category == "Small Cap Blend Equities"),low(expense.ratio),top = n.top)
df.scg = psel(subset(df,etfdb.category == "Small Cap Growth Equities"),low(expense.ratio),top = n.top)
df.scv = psel(subset(df,etfdb.category == "Small Cap Value Equities"),low(expense.ratio),top = n.top)
plot.allcap = ggplot() +
geom_point(data = df.ac,aes(x = c.issuer,y = expense.ratio)) +
theme(legend.title=element_blank(),
legend.position = "top",
axis.text.x = element_text(angle = 90, hjust = 1, vjust = 0.3))
plot.lcb = ggplot() +
geom_point(data = df.lcb,aes(x = c.issuer,y = expense.ratio)) +
theme(legend.title=element_blank(),
legend.position = "top",
axis.text.x = element_text(angle = 90, hjust = 1, vjust = 0.3))
plot.lcg = ggplot() +
geom_point(data = df.lcg,aes(x = c.issuer,y = expense.ratio)) +
theme(legend.title=element_blank(),
legend.position = "top",
axis.text.x = element_text(angle = 90, hjust = 1, vjust = 0.3))
plot.lcv = ggplot() +
geom_point(data = df.lcv,aes(x = c.issuer,y = expense.ratio)) +
theme(legend.title=element_blank(),
legend.position = "top",
axis.text.x = element_text(angle = 90, hjust = 1, vjust = 0.3))
plot_grid(plot.lcv,plot.lcb,plot.lcg)
plot_grid(plot.lcv,plot.lcb,plot.lcgplot.allcap = ggplot() +
geom_point(data = df.ac,aes(x = c.issuer,y = expense.ratio)) +
theme(legend.title=element_blank(),
legend.position = "top",
axis.text.x = element_text(angle = 90, hjust = 1, vjust = 0.3))
plot.lcb = ggplot() +
geom_point(data = df.lcb,aes(x = c.issuer,y = expense.ratio)) +
theme(legend.title=element_blank(),
legend.position = "top",
axis.text.x = element_text(angle = 90, hjust = 1, vjust = 0.3))
plot.lcg = ggplot() +
geom_point(data = df.lcg,aes(x = c.issuer,y = expense.ratio)) +
theme(legend.title=element_blank(),
legend.position = "top",
axis.text.x = element_text(angle = 90, hjust = 1, vjust = 0.3))
plot.lcv = ggplot() +
geom_point(data = df.lcv,aes(x = c.issuer,y = expense.ratio)) +
theme(legend.title=element_blank(),
legend.position = "top",
axis.text.x = element_text(angle = 90, hjust = 1, vjust = 0.3))
plot.mcb = ggplot() +
geom_point(data = df.mcb,aes(x = c.issuer,y = expense.ratio)) +
theme(legend.title=element_blank(),
legend.position = "top",
axis.text.x = element_text(angle = 90, hjust = 1, vjust = 0.3))
plot.mcg = ggplot() +
geom_point(data = df.mcg,aes(x = c.issuer,y = expense.ratio)) +
theme(legend.title=element_blank(),
legend.position = "top",
axis.text.x = element_text(angle = 90, hjust = 1, vjust = 0.3))
plot.mcv = ggplot() +
geom_point(data = df.mcv,aes(x = c.issuer,y = expense.ratio)) +
theme(legend.title=element_blank(),
legend.position = "top",
axis.text.x = element_text(angle = 90, hjust = 1, vjust = 0.3))
plot.scb = ggplot() +
geom_point(data = df.scb,aes(x = c.issuer,y = expense.ratio)) +
theme(legend.title=element_blank(),
legend.position = "top",
axis.text.x = element_text(angle = 90, hjust = 1, vjust = 0.3))
plot.scg = ggplot() +
geom_point(data = df.scg,aes(x = c.issuer,y = expense.ratio)) +
theme(legend.title=element_blank(),
legend.position = "top",
axis.text.x = element_text(angle = 90, hjust = 1, vjust = 0.3))
plot.scv = ggplot() +
geom_point(data = df.scv,aes(x = c.issuer,y = expense.ratio)) +
theme(legend.title=element_blank(),
legend.position = "top",
axis.text.x = element_text(angle = 90, hjust = 1, vjust = 0.3)))
plot.scb = ggplot() +
geom_point(data = df.scb,aes(x = c.issuer,y = expense.ratio)) +
theme(legend.title=element_blank(),
legend.position = "top",
axis.text.x = element_text(angle = 90, hjust = 1, vjust = 0.3))
plot.scg = ggplot() +
geom_point(data = df.scg,aes(x = c.issuer,y = expense.ratio)) +
theme(legend.title=element_blank(),
legend.position = "top",
axis.text.x = element_text(angle = 90, hjust = 1, vjust = 0.3))
plot.scv = ggplot() +
geom_point(data = df.scv,aes(x = c.issuer,y = expense.ratio)) +
theme(legend.title=element_blank(),
legend.position = "top",
axis.text.x = element_text(angle = 90, hjust = 1, vjust = 0.3))
plot.mcb = ggplot() +
geom_point(data = df.mcb,aes(x = c.issuer,y = expense.ratio)) +
theme(legend.title=element_blank(),
legend.position = "top",
axis.text.x = element_text(angle = 90, hjust = 1, vjust = 0.3))
plot.mcg = ggplot() +
geom_point(data = df.mcg,aes(x = c.issuer,y = expense.ratio)) +
theme(legend.title=element_blank(),
legend.position = "top",
axis.text.x = element_text(angle = 90, hjust = 1, vjust = 0.3))
plot.mcv = ggplot() +
geom_point(data = df.mcv,aes(x = c.issuer,y = expense.ratio)) +
theme(legend.title=element_blank(),
legend.position = "top",
axis.text.x = element_text(angle = 90, hjust = 1, vjust = 0.3))
plot_grid(plot.lcv,plot.lcb,plot.lcg,plot.mcb,plot.mcg,plot.mcv)
plot_grid(plot.lcv,plot.lcb,plot.lcg,plot.mcb,plot.mcg,plot.mcv,plot.scb,plot.scg,plot.scv)
df
?geom_text
plot.allcap = ggplot() +
geom_point(data = df.ac,aes(x = c.issuer,y = expense.ratio)) +
geom_text(aes(label=name)
theme(legend.title=element_blank(),
legend.position = "top",
axis.text.x = element_text(angle = 90, hjust = 1, vjust = 0.3))
plot.allcap = ggplot() +
geom_point(data = df.ac,aes(x = c.issuer,y = expense.ratio)) +
geom_text(aes(label=name) +
theme(legend.title=element_blank(),
legend.position = "top",
axis.text.x = element_text(angle = 90, hjust = 1, vjust = 0.3))
plot.allcap
plot.allcap = ggplot() +
geom_point(data = df.ac,aes(x = c.issuer,y = expense.ratio)) +
geom_text(aes(label=name)) +
theme(legend.title=element_blank(),
legend.position = "top",
axis.text.x = element_text(angle = 90, hjust = 1, vjust = 0.3))
plot.allcap
df.mcg
plot.allcap = ggplot() +
geom_point(data = df.ac,aes(x = c.issuer,y = expense.ratio)) +
geom_text(aes(label = name)) +
theme(legend.title=element_blank(),
legend.position = "top",
axis.text.x = element_text(angle = 90, hjust = 1, vjust = 0.3))
plot.allcap
plot.allcap = ggplot() +
geom_point(data = df.ac,aes(x = c.issuer,y = expense.ratio)) +
geom_text(aes(label = df.ac$name)) +
theme(legend.title=element_blank(),
legend.position = "top",
axis.text.x = element_text(angle = 90, hjust = 1, vjust = 0.3))
plot.allcap
plot.allcap = ggplot() +
geom_point(data = df.ac,aes(x = c.issuer,y = expense.ratio)) +
geom_text(data = df.ac(aes(x = c.issuer,y = expense.ratio,label = df.ac$name))) +
theme(legend.title=element_blank(),
legend.position = "top",
axis.text.x = element_text(angle = 90, hjust = 1, vjust = 0.3))
plot.allcap = ggplot() +
geom_point(data = df.ac,aes(x = c.issuer,y = expense.ratio)) +
geom_text(data = df.ac,aes(x = c.issuer,y = expense.ratio,label = df.ac$name)) +
theme(legend.title=element_blank(),
legend.position = "top",
axis.text.x = element_text(angle = 90, hjust = 1, vjust = 0.3))
plot.allcap
plot.allcap = ggplot() +
geom_point(data = df.ac,aes(x = c.issuer,y = expense.ratio)) +
geom_text(data = df.ac,aes(x = c.issuer,y = expense.ratio,label = df.ac$name),hjust=3, vjust=3) +
theme(legend.title=element_blank(),
legend.position = "top",
axis.text.x = element_text(angle = 90, hjust = 1, vjust = 0.3))
plot.allcap
plot.allcap = ggplot() +
geom_point(data = df.ac,aes(x = c.issuer,y = expense.ratio)) +
geom_text(data = df.ac,aes(x = c.issuer,y = expense.ratio,label = df.ac$name),hjust=1, vjust=1) +
theme(legend.title=element_blank(),
legend.position = "top",
axis.text.x = element_text(angle = 90, hjust = 1, vjust = 0.3))
plot.allcap
plot.allcap = ggplot() +
geom_point(data = df.ac,aes(x = c.issuer,y = expense.ratio)) +
geom_text(data = df.ac,aes(x = c.issuer,y = expense.ratio,label = df.ac$symbol),hjust=1, vjust=-1) +
theme(legend.title=element_blank(),
legend.position = "top",
axis.text.x = element_text(angle = 90, hjust = 1, vjust = 0.3))
plot.allcap
plot.allcap = ggplot() +
geom_point(data = df.ac,aes(x = c.issuer,y = expense.ratio)) +
geom_text(data = df.ac,aes(x = c.issuer,y = expense.ratio,label = df.ac$symbol),hjust=-1, vjust=-1) +
theme(legend.title=element_blank(),
legend.position = "top",
axis.text.x = element_text(angle = 90, hjust = 1, vjust = 0.3))
plot.allcap
,hjust=0, vjust=0
plot.allcap = ggplot() +
geom_point(data = df.ac,aes(x = c.issuer,y = expense.ratio)) +
geom_text(data = df.ac,aes(x = c.issuer,y = expense.ratio,label = df.ac$symbol),hjust=-1, vjust=1) +
theme(legend.title=element_blank(),
legend.position = "top",
axis.text.x = element_text(angle = 90, hjust = 1, vjust = 0.3))
plot.allcap
plot.allcap
plot.allcap
df.ac$symbol
plot.allcap = ggplot() +
geom_point(data = df.ac,aes(x = c.issuer,y = expense.ratio)) +
geom_text(data = df.ac,aes(x = c.issuer,y = expense.ratio,label = df.ac$symbol),hjust=0, vjust=1) +
theme(legend.title=element_blank(),
legend.position = "top",
axis.text.x = element_text(angle = 90, hjust = 1, vjust = 0.3))
plot.allcap
